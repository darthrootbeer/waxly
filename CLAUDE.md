# CLAUDE.md

Waxly is a vinyl terminology encyclopedia. Term files in `docs/terms/{letter}/{slug}.md` have YAML front-matter + Markdown content.

## Term File Rules

**Required front-matter fields:**
- `term`, `slug` (must match filename), `pos`, `summary` (max 150 chars), `tags` (at least 1, must exist in schema), `created`, `updated` (YYYY-MM-DD in quotes)

**Content format:**
- Use YAML front-matter only (not TOML/JSON)
- Use `#` for term title
- Start definitions with `**Definition:**`
- Cross-link using slugs: `[term](../x/slug.md)`
- Writing style: Clear, accessible, encyclopedia-like; culturally sensitive; informative but not overly academic

**Constraints:**
- Slugs must be unique and match filenames
- Tags must exist in `schema/term.schema.json`
- `see_also` slugs must reference existing terms
- No trailing whitespace in term files

## Python Code Style

- Black formatter (88 char line)
- isort for imports (black profile)
- Docstrings required for functions
- Fail gracefully with helpful messages using `rich` library

## Critical Don'ts

- **Never edit `docs/letters/` or `docs/tags/`** - they're auto-generated
- **Never modify `site/` directory** - it's generated by MkDocs
- **Never skip schema validation** - validate after editing terms
- **Never use invalid tags** - check schema first

## Workflow

- Pre-commit hooks auto-fix issues and regenerate navigation
- Push to master triggers deployment
- Test locally with `mkdocs serve`
- Run `python scripts/validate_terms.py` to validate terms
