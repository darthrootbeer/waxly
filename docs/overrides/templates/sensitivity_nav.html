<!-- Navigation component for sensitivity preferences -->
<!-- This can be included in the main navigation or header -->

<div class="sensitivity-nav">
  <div class="nav-item">
    <a href="#" onclick="showSensitivityPreferences()" class="preferences-link">
      <span class="nav-icon">⚙️</span>
      <span class="nav-text">Content Preferences</span>
    </a>
  </div>

  <div class="nav-item">
    <span id="sensitivity-status-indicator" class="status-indicator">
      <span class="status-dot"></span>
      <span class="status-text">Sensitive content hidden</span>
    </span>
  </div>
</div>

<style>
.sensitivity-nav {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 8px 0;
}

.preferences-link {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  background: #f8f9fa;
  border: 1px solid #dee2e6;
  border-radius: 4px;
  text-decoration: none;
  color: #495057;
  font-size: 0.9em;
  transition: all 0.2s ease;
}

.preferences-link:hover {
  background: #e9ecef;
  border-color: #adb5bd;
  text-decoration: none;
  color: #495057;
}

.nav-icon {
  font-size: 1em;
}

.nav-text {
  font-weight: 500;
}

.status-indicator {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 4px 8px;
  background: #fff3cd;
  border: 1px solid #ffeaa7;
  border-radius: 4px;
  font-size: 0.8em;
  color: #856404;
}

.status-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #ffc107;
}

.status-indicator.active .status-dot {
  background: #28a745;
}

.status-indicator.active {
  background: #d4edda;
  border-color: #c3e6cb;
  color: #155724;
}

.status-indicator.active .status-text::after {
  content: " (enabled)";
}

@media (max-width: 768px) {
  .sensitivity-nav {
    flex-direction: column;
    align-items: stretch;
    gap: 8px;
  }

  .preferences-link {
    justify-content: center;
  }

  .status-indicator {
    justify-content: center;
    text-align: center;
  }
}
</style>

<script>
// Update status indicator based on preferences
document.addEventListener('DOMContentLoaded', () => {
  if (window.sensitivityPreferences) {
    updateStatusIndicator();
  }
});

function updateStatusIndicator() {
  const indicator = document.getElementById('sensitivity-status-indicator');
  const preferences = window.sensitivityPreferences;

  if (preferences && preferences.preferences.showSensitiveContent) {
    indicator.classList.add('active');
    indicator.querySelector('.status-text').textContent = 'Sensitive content visible';
  } else {
    indicator.classList.remove('active');
    indicator.querySelector('.status-text').textContent = 'Sensitive content hidden';
  }
}

// Listen for preference changes
document.addEventListener('sensitivityPreferencesChanged', updateStatusIndicator);
</script>
